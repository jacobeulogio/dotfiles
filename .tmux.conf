# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'ofirgall/tmux-window-name'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Tmux Navigator
set -g @vim_navigator_mapping_left "C-Left C-h"  # use C-h and C-Left
set -g @vim_navigator_mapping_right "C-Right C-l"
set -g @vim_navigator_mapping_up "C-k"
set -g @vim_navigator_mapping_down "C-j"
set -g @vim_navigator_mapping_prev ""  # removes the C-\ binding
set -g @vim_navigator_prefix_mapping_clear_screen ""

# Window Names
set -g @tmux_window_dir_programs "['nvim', 'vim', 'vi', 'git', 'zsh', 'yazi']"
set -g @tmux_window_name_shells "[]"
set -g @tmux_window_name_ignored_programs "['']" 
set -g @tmux_window_name_show_program_args "False"

# Change the tmux prefix to Ctrl + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# General Settings
set -g status-keys vi
set -g set-clipboard on
set -g mouse on
set -g status-interval 3 
set -g detach-on-destroy off

# A vim-friendly tmux config
set -g base-index 1
set -g pane-base-index 1

# Status bar
set -g status-bg "#171717"
set -g status-fg colour245     # White text color

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf \; display-message "Reloaded ~/.tmux.conf"

# Yazi
set -g allow-passthrough on
set -ga update-environment TERM
set -ga update-environment TERM_PROGRAM

bg="#3A3A3A"
default_fg="#c5c9c5" 

set -g status-left "#[fg=#000000, bold, bg=#8ba4b0] #S "
set -g status-right " #{=21:pane_title} %H:%M %d-%b-%y"
set -g window-status-format "#[fg=default,bg=default, bold ] #I:#W"
set -g window-status-current-format "#[fg=${default_fg},bold, bg=default] ï‘„ #I:#W"
set -g window-status-last-style "fg=default,bg=default"

# Border Style
set -g pane-border-style "fg=#272727,bg=default"
set -g pane-active-border-style "fg=${bg},bg=default"

set -g message-command-style "bg=default,fg=${default_fg}"
set -g message-style "bg=default,fg=${default_fg}"

run '~/.tmux/plugins/tpm/tpm'
